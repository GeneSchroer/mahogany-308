<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Gerrymandering Analysis Main Page </title>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		 <!-- Leaflet style sheets and scripts -->	
	    <link rel="stylesheet" href="/leaflet/leaflet.css" />
		<script src="/leaflet/leaflet.js"></script>
		<!-- Load Esri map from source-->
		<script src="http://cdn-geoweb.s3.amazonaws.com/esri-leaflet/1.0.0-rc.3/esri-leaflet.js"></script>
		<!-- Dojo style sheets and scripts-->
		<link rel="stylesheet" href="/dijit/themes/claro/claro.css"/>
		<script>
			var dojoConfig = {
				async: true,
				packages: [{
					name: "leaflet",
					location: "../leaflet"
				}]
			};
		
		</script>
		<script src="/dojo/dojo.js"></script>	
		
		<!-- Local style sheets for page -->
		<link rel="stylesheet" type="text/css" href="/css/gerrymanderMapStyle.css"/>
		<link rel="stylesheet" type="text/css" href="/css/nihilo_override.css"/>
		<link rel="stylesheet" type="text/css" href="/css/style.css"/>
	
    

    	<style>
    	
    		.info{
    			padding: 6px 8px;
    			font: 15px Arial, Helvetica, sans-serif;
    			background: white;
    			box-shadow: 0 0 15px black;
    			margin: 0 0 5px;
    			color: #777;
    			border-radius: 5px;
        }
      
  
 
		</style>
		<script>
		
    		require(["javascript/LoadingScreen","dojo/parser", "dojo/dom", "leaflet/gerrymander/GerrymanderPageBuilder2", "dijit/registry", "dijit/layout/ContentPane", "dijit/layout/BorderContainer", "dijit/layout/TabContainer", 
    		"dijit/layout/AccordionContainer", "dijit/form/Button", "dijit/form/Select", "dijit/form/RadioButton"], 
    		function(LoadingScreen, parser, dom, GerrymanderPageBuilder, registry){
    		
    			var loadingScreen = new LoadingScreen("gerrymanderLoadingScreen");	
    			parser.parse();
    			loadingScreen.endLoading();
    	
				var map_g = GerrymanderPageBuilder
							.addMap(dom.byId("gerrymanderMap"))
							.addYearSelector(registry.byId("gerrymanderYearSelect"))
							//.addRepTable(dom.byId("gerrymanderRepTable"))
							.addDefaultModeRadioButton(dom.byId("gerrymanderDefaultMode"))
							.addEfficiencyGapRadioButton(dom.byId("gerrymanderEfficiencyGap"))
							.build();
				L.esri.basemapLayer('Topographic').addTo(map_g);
				
				});
		</script>
	</head>
	<body class="claro"></body>
		<div id="gerrymanderLoadingScreen" class="loadingMessage pageOverlay loadingOverlay">Loading</div>
		<div data-dojo-type="dijit/layout/BorderContainer" style="height:100%; width:100%;">
			<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'top'" style="height:6%">
				<div th:replace="headerLinks :: links"></div>
			</div>
			<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="region:'left'" style="width:30%;">
				<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'top'" style="height: 12%;">
					<label for="gerrymanderYearSelect">Year of Congress: </label>
					<div id="gerrymanderYearSelect" data-dojo-type="dijit/form/Select"></div>
					<label></label>
					<form id="gerrymanderMetricSelectForm">
						<label>Election Data</label>
						<input id="gerrymanderDefaultMode" checked="true" type="radio" name="metric" value="none" data-dojo-type="dijit/form/RadioButton"/>
						<label>Efficiency Gap</label>
						<input id="gerrymanderEfficiencyGap" type="radio" name="metric" value="efficiencyGap" data-dojo-type="dijit/form/RadioButton"/>
					</form>
				</div>
				
				<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-props="region:'center'">
					<div data-dojo-type="dijit/layout/ContentPane" title="Data">
						
						<table class="repTable" id="gerrymanderRepTable"></table>
					</div>
					<div data-dojo-type="dijit/layout/ContentPane" title="Information">
						<div></div>
					</div>
				</div>		
			</div>
			<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'center'">
				<div id="gerrymanderMap"></div>
			</div>
			<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'bottom'" style="height:20%;">
			Admin Options
			<div data-dojo-type="dijit/layout/TabContainer">
				<div data-dojo-type="dijit/layout/ContentPane" title="UCLA">
					<form action="/upload" enctype="multipart/form-data" method="POST">
						<input name="file" type="file" multiple="true"/>
						<input type="submit"/>
						<br/>
					</form>
				</div>
				<div data-dojo-type="dijit/layout/ContentPane" title="Princeton">
					<form action="/test" enctype="multipart/form-data" method="POST">
						<input name="file" type="file"/>
						<input type="submit" value="Submit Election Data"/>
					</form>	
				</div>
				<div data-dojo-type="dijit/layout/ContentPane" title="Manual Entry">
					<div data-dojo-type="dijit/layout/TabContainer">
						<div data-dojo-type="dijit/layout/ContentPane" title="Congressional Member">
							<label>Year: </label><input type="text"/>
							<label>State: </label><select></select>
							<label>District No.: </label> <input type="text"/>
							<label>Party: </label> <select></select>
							<label>Name: </label> <input type="text"/>
							
						</div>
						<div data-dojo-type="dijit/layout/ContentPane" title="Election Data">
							<label>Year: </label><input type="text"/>
							<label>State: </label><select></select>
							<label>District No.: </label> <input type="text"/>
							<label>Party: </label> <select></select>
							<label>Votes: </label> <input type="text"/>
						</div>
					</div>
				</div>
				</div>
			</div>
		</div>
</html>